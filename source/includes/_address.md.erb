# Address

Currently, only US addresses can be validated (country_code must be set to 'US').

## Validation

```shell
curl -u user@email.com:password -X POST --header "Content-Type: application/json" --header "Accept: application/json" -d "{
  \"line1\" : \"247 High St\",
  \"city\" : \"Palo X\",
  \"state_province\" : \"CA\",
  \"postal_code\" : \"94301\",
  \"country_code\": \"US\"
}" "<%= config[:production_api_url] %>/address/validate"
```

> The above command returns JSON structured like this:

```json
{
  "line1" : "247 HIGH ST",
  "line2" : "",
  "line3" : "",
  "last_line" : "PALO ALTO CA 94301-1041",
  "city" : "PALO ALTO",
  "state_province" : "CA",
  "zip5" : "94301",
  "zip4" : "1041",
  "dpbc" : "476",
  "record_type" : "S",
  "rdi" : "B",
  "dpv" : "AABB",
  "dpv_comment" : " ",
  "carrier_route" : "C001",
  "address_exists" : " "
}
```

### HTTP Request

`POST <%= config[:production_api_url] %>/address/validate`

### Query Parameters

Parameter | Default | Description
--------- | ------- | -----------
company_name | (null/empty) | Company name.
line1 | (required) | Address line 1.
line2 | (null/empty) | Address line 2.
line3 | (null/empty) | Address line 3.
city | (null/empty) | City.
state_province | (null/empty) | State/province.
postal_code | (null/empty) | Postal code.
country_code | (required) | Iso country code.

## Resolve Multiple

```shell
curl -u user@email.com:password -X POST --header "Content-Type: application/json" --header "Accept: application/json" -d "{
  \"line1\" : \"525 University Ave\",
  \"city\" : \"Palo Alto\",
  \"state_province\" : \"CA\",
  \"postal_code\" : \"94301\"
}" "<%= config[:production_api_url] %>/address/resolve_multiple"
```

> The above command returns JSON structured like this:

```json
[
  {
    "primary_high" : "0000000525",
    "primary_low" : "0000000525",
    "secondary_high" : "A70",
    "secondary_low" : "A70",
    "secondary_name" : "",
    "street_name" : "UNIVERSITY",
    "pre_direction" : "",
    "post_direction" : "",
    "suffix" : "AVE",
    "zip_code" : "94301",
    "addon_low" : "1924",
    "addon_high" : "1924",
    "unit" : "STE",
    "record_type" : "H",
    "state_abbreviation" : null,
    "county_number" : "085",
    "carrier_route" : "C011"
  },
  {
    "primary_high" : "0000000525",
    "primary_low" : "0000000525",
    "secondary_high" : "A100",
    "secondary_low" : "A100",
    "secondary_name" : "",
    "street_name" : "UNIVERSITY",
    "pre_direction" : "",
    "post_direction" : "",
    "suffix" : "AVE",
    "zip_code" : "94301",
    "addon_low" : "1925",
    "addon_high" : "1925",
    "unit" : "STE",
    "record_type" : "H",
    "state_abbreviation" : null,
    "county_number" : "085",
    "carrier_route" : "C011"
  },
  {
    "primary_high" : "0000000525",
    "primary_low" : "0000000525",
    ...
  },
  ...
]
```

### HTTP Request

`POST <%= config[:production_api_url] %>/address/resolve_multiple`

### Query Parameters

Parameter | Default | Description
--------- | ------- | -----------
line1 | (required) | Address line 1.
line2 | (null/empty) | Address line 2.
line3 | (null/empty) | Address line 3.
city | (null/empty) | City.
state_province | (null/empty) | State/province.
postal_code | (null/empty) | Postal code.

## Get City

```shell
curl -u user@email.com:password -X GET --header "Content-Type: application/json" --header "Accept: application/json" "<%= config[:production_api_url] %>/address/city?zip5=94301"
```

> The above command returns JSON structured like this:

```json
{
  "city" : "Palo Alto",
  "state" : "CA"
}
```

### HTTP Request

`GET <%= config[:production_api_url] %>/address/city?zip5=[zip5]`

### Query Parameters

Parameter | Default | Description
--------- | ------- | -----------
zip5 | (required) | Zip 5.

## Get Streets

```shell
curl -u user@email.com:password -X GET --header "Content-Type: application/json" --header "Accept: application/json" "<%= config[:production_api_url] %>/address/streets?zip5=94301"
```

> The above command returns JSON structured like this:

```json
[
  "ADDISON AVE",
  "ALMA ST",
  "ANTON CT",
  "ASHBY DR",
  "BOYCE AVE",
  "BRYANT CT",
  "BRYANT ST",
  "BYRON ST",
  ...
]
```

### HTTP Request

`GET <%= config[:production_api_url] %>/address/streets?zip5=[zip5]`

### Query Parameters

Parameter | Default | Description
--------- | ------- | -----------
zip5 | (required) | Zip 5.

## Get Possible Addresses

```shell
curl -u user@email.com:password -X GET --header "Content-Type: application/json" --header "Accept: application/json" "<%= config[:production_api_url] %>/address/possible_addresses?zip5=94301&primary=247&street_name=H"
```

> The above command returns JSON structured like this:

```json
[
  "247 HAMILTON AVE",
  "247 HAMILTON CT",
  "247 HIGH ST"
]
```

### HTTP Request

`GET <%= config[:production_api_url] %>/address/possible_addresses?zip5=[zip5]&primary=[primary number]&street_name=[street name]`

### Query Parameters

Parameter | Default | Description
--------- | ------- | -----------
zip5 | (required) | Zip 5.
primary number | (required) | Primary street number.
street name | (null/empty) | Street name. Could be null, incomplete (e.g. "H") or full (e.g. "High")